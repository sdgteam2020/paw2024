@using swas.BAL.DTO;
@using swas.DAL.Models
@using swas.BAL.Helpers
@model UnitValidate
@inject IHttpContextAccessor HttpContextAccessor

@{
    ViewData["Title"] = "Software Whitelisting Autoation Software";
    int sno = 0;
    Layout = "";

    var username = ViewBag.LoggedInUserName;
    var ip = ViewBag.ipadd;
    var flag = ViewBag.flag;

    var ButtonText = ViewBag.ButtonText;

    var role = ViewBag.userRole;
    var newproject = ViewBag.RecentAction;
    var WhiteListed = ViewBag.WhiteListed;
    var Holdproj = ViewBag.HoldProj;
    var corse = ViewBag.Courses;
    var stage = ViewBag.RFPProj;
    Login Logins = SessionHelper.GetObjectFromJson<Login>(HttpContextAccessor.HttpContext.Session, "User");


}

<head>
    <link href="~/css/newpage.css" rel="stylesheet" />

    <link href="~/assets/css/bootstrap.min.css" rel="stylesheet">
    <script src="~/assets/js/bootstrap.min.js"></script>

    <link href="~/assets/css/font-awesome/fonts/font-awesome.min.css" rel="stylesheet" />
    <script language="JavaScript" type="text/javascript" src="~/assets/js/jquery.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/js/main.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/jquery.dataTables.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/dataTables.bootstrap4.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/dataTables.buttons.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/buttons.bootstrap4.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/jszip.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/vfs_fonts.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/buttons.html5.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/buttons.print.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/buttons.colVis.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/dataTables.responsive.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/assets/dataTable/js/responsive.bootstrap4.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="~/js/sweetalert2.all.min.js"></script>
    <script src="~/DeveloperJs/ddlSanal.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <style>
        .wrapper {
            padding: 0rem;
        }

        .page-content {
            margin-top: 5rem;
        }

        input[type="search"] {
            margin: 5px;
            height: 30px;
            padding: 2px;
        }

        .table-responsive {
            max-height: 200px;
        }
    </style>
    <style>
        /* Apply a common font family and size to all headings */
        h1, h2, h3, h4, h5, h6 {
            font-family: Arial, sans-serif !important;
            font-size: 24px !important;
        }

        /* Make the page responsive */
        /* Example of how to make images and videos responsive */
        img, video {
            max-width: 100% !important;
            height: auto !important;
        }

        /* Example of how to make tables responsive */
        .table-responsive {
            overflow-x: auto !important;
        }

        div.dataTables_wrapper div.dataTables_filter {
            text-align: right;
            margin-top: -3rem !important;
        }

        .dgislogo {
            width: 90px;
            height: 60px;
            padding: 0px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            margin-right: -30px px;
            margin-top: -6px;
            margin-left: 543%;
            height: 60px;
            margin-top: -7px;
        }

        .dgislogo1 {
            width: 90px;
            height: 60px;
            padding: 0px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            margin-right: -30px px;
            margin-top: -6px;
            margin-left: 543%;
            height: 60px;
            margin-top: -7px;
        }

        .modal-content {
            height: auto; /* Remove fixed height to allow dynamic content */
        }

        .modal-body {
            padding: 20px; /* Add padding for a more spacious look */
        }

        .form-group {
            margin-bottom: 20px; /* Add margin to form groups for spacing */
        }

        /* Customize your form controls */
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        /* Style your buttons */
        .btn-primary {
            background-color: #007bff;
            color: #fff;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: #fff;
        }

    </style>

</head>

<body>
    <div class="wrapper ">

        <header class="top-headers" style="background-color: #333; color: #fff;">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-2 col-md-1">
                        <!-- Left image with max width -->
                        <img src="~/assets/images/dgis_logo.png" class="dgislogo1" alt="Left Image" style="margin-left: -137px;" />
                    </div>
                    <div class="col-8 col-md-10 text-center">
                        <!-- Centered text -->
                        <p class="headertext" style="text-align:center;margin-left: 261px;">Portal Application For Whitelisting</p>
                    </div>
                    <div class="col-2 col-md-1 text-end">
                        <!-- Right image with max width -->
                        <img src="~/assets/images/dgis_logo.png" class="dgislogo" alt="Right Image" />
                    </div>

                </div>
            </div>
            <div>
                <a href="/Account/Logout">
                    <img src="~/assets/images/icons/logout.png" style="width:10%;height:10%;margin-left:-10px" alt="">
                </a>
            </div>
        </header>

        <div class="page-content ">
            <div class="row">
                <div class="col-md-9 ">
                    <h1 class="policy2">Policies</h1>
                    <div class="hidden shadow-lg p-3 mb-2 bg-white rounded">
                        <table class="table table-striped table-bordered" style="width:100%;">
                            <thead>
                                <tr>
                                    <th class="text-nowrap text-center"> IT HW/SW</th>
                                    <th class="text-nowrap text-center"> Project WhiteListing</th>
                                </tr>
                            </thead>
                            <tbody>

                            <td>
                                    @if (corse != null)
                                    {
                                        @foreach (var filename in corse)
                                        {
                                        <a asp-controller="Home"
                                           asp-action="WaterMark2" asp-route-id="@filename">@filename</a>
                                        <br />
                                        }

                                    }
                                    else
                                    {
                                <tr>
                                    <td>No recent actions available</td>
                                </tr>

                                    }
                            </td>
                            <td>

                                    @if (corse != null)
                                    {
                                        @foreach (var filename in corse)
                                        {
                                        <a href="@Url.Action("WaterMark2", "Home", new { id = filename })" target="_blank">@filename</a>
                                        <br />
                                        }

                                    }
                                    else
                                    {
                                <tr>
                                    <td>No recent actions available</td>
                                </tr>

                                    }
                            </td>
                            </tbody>
                        </table>

                    </div>

                </div>


                <div class="col-md-3 ">
                    <h1 class="policy2">Login</h1>
                    <div class="col-12 shadow-lg mb-2 bg-white rounded ">
                        <div id="flush-collapseOne" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                            <div class="card-body">
                                <div class="">

                                    @Html.AntiForgeryToken()
                                    <div class="row">
                                        <div class="col-md-4 col-12">
                                            <div class="form-group">
                                                <label for="UserId" class="control-label">Domain ID</label>
                                            </div>
                                        </div>
                                        <div class="col-md-8 col-12">
                                            <div class="form-group">
                                                <input type="text" id="UserId" name="UserId" class="form-control readonly" value="@username" readonly required onkeyup="ValInData(this)">
                                                @Html.ValidationMessageFor(model => model.UserId, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                        <div class="col-md-4 col-12">
                                            <div class="form-group">
                                                <label for="RoleId" class="control-label">Role</label>
                                            </div>
                                        </div>
                                        <div class="col-md-8 col-12">
                                            <div class="form-group">
                                                <input type="text" id="RoleId" name="RoleId" class="form-control readonly" value="Dte" readonly required onkeyup="ValInData(this)">
                                            </div>
                                        </div>


                                        <div class="col-md-12 col-12 text-center">
                                            <div class="form-group">
                                                <button class="btn btn-primary btn-block" style="background-color: @(ViewBag.ProcessButtonColor);
                                                      " id="ProcessId" onclick="ButtonClick()">
                                                    @(ButtonText)
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-md-12">
                    <div class="card">
                        @*  <h1 class="policy2">Proj Under Process</h1> *@
                        <div class="text-center Getdetailsbtn">
                            @* <button type="button" id="projunderprocess" class="btn btn-outline-primary ">Get Details</button> *@
                            <h3>Proj Under Process</h3>
                        </div>

                        <div class=" hidden shadow-lg p-3 mb-2 bg-white rounded">
                            <div id="card-body table-responsive">

                                <table id="HeldTable" class="table table-striped table-bordered datatablefordownload">
                                    <!-- Table header -->
                                    <thead style="position: sticky;top: -18">
                                        <tr>
                                            <th class="text-nowrap text-center">S.No</th>
                                            <th class="text-nowrap text-center">Project Name</th>
                                            <th class="text-nowrap text-center">From</th>
                                            <th class="text-nowrap text-center">Comment</th>
                                            <th class="text-nowrap text-center">Fwd to</th>
                                            <th class="text-nowrap text-center">Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @if (Holdproj != null)
                                        {


                                            @foreach (var unitsa in Holdproj)
                                            {
                                                <tr>

                                                    <td style="font-size:12px;">@unitsa.ProjId</td>
                                                    <td style="font-size:12px;">@unitsa.ProjName</td>
                                                    <td style="font-size:12px;">@unitsa.fwdby</td>
                                                    <td style="font-size:12px;">@unitsa.Comment</td>
                                                    <td style="font-size:12px;">@unitsa.helwith</td>
                                                    <td style="font-size:12px;">@unitsa.StrDate</td>
                                                </tr>
                                            }
                                        }

                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 ">
                    <div class="card">
                        @*  <h1 class="policy">WhiteListed Project  </h1> *@
                        <div class="text-center Getdetailsbtn">
                            <h3>WhiteListed Project</h3>
                            @*  <button type="button" id="projWhiteListed" class="btn btn-outline-primary ">Get Details</button> *@
                        </div>
                        <div class=" hidden shadow-lg p-3 mb-2 bg-white rounded ">



                            <div class="card-body table-responsive">

                                <table id="WhitelistedTable" class="table  table-striped table-bordered datatablefordownload" style="overflow: scroll;">
                                    <!-- Table header -->

                                    <thead style="position: sticky;top: -18">
                                        @*  <tr>
                                        <th colspan="3"></th>
                                        <th colspan="3" class="text-center">Sponsor Contact Details</th>
                                        <th colspan="6"></th>
                                        </tr> *@
                                        <tr>
                                            <th class="text-nowrap text-center" style="font-size:12px;">S.No</th>
                                            <th class="text-nowrap text-center" style="font-size:12px;">Project Cat</th>
                                            <th class="text-nowrap text-center" style="font-size:12px;">Name of Sw Appl</th>
                                            <th class="text-nowrap text-center" style="font-size:12px;">Appt</th>
                                            <th class="text-nowrap text-center" style="font-size:12px;">Fmn</th>
                                            <th class="text-nowrap text-center" style="font-size:12px;">Contact No</th>
                                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Dt of ACG Clearane</th>
                                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Cert No& Date</th>
                                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Valid Upto</th>
                                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Remarks</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        @if (WhiteListed != null)
                                        {
                                            int count = 1;
                                            int headerid = 0;
                                            @foreach (var unitx in WhiteListed)
                                            {
                                                @*  if (headerid != @unitx.HeaderID)
                                        {
                                        <tr>

                                        <td colspan="1" style="font-size:12px;">@unitx.Header</td>


                                        </tr>

                                        } *@
                                                <tr>


                                                    <td class="f-12">@count</td>
                                                    <td class="f-12">@unitx.Header</td>
                                                    <td class="f-12 text-nowrap">@unitx.ProjName</td>
                                                    <td class="f-12 text-nowrap">@unitx.Appt</td>
                                                    <td class="f-12 text-nowrap">@unitx.Fmn</td>
                                                    <td class="f-12 text-nowrap">@unitx.ContactNo</td>
                                                    <td class="f-12 text-nowrap">@unitx.Clearence</td>
                                                    <td class="f-12 text-nowrap">@unitx.CertNo @unitx.date</td>
                                                    <td class="f-12 text-nowrap">@unitx.ValidUpto</td>
                                                    <td class="f-12">@unitx.Remarks</td>


                                                </tr>

                                                count = count + 1;
                                                headerid = @unitx.HeaderID;
                                            }
                                        }

                                    </tbody>
                                </table>

                                @*</marquee>*@
                            </div>
                        </div>
                    </div>
                </div>


            </div>

        </div>




    </div>

</body>
<footer class="footers" style="background-color: #333; color: #fff; position: fixed; bottom: 0; width: 100%;">
    <div class="footer-text">
        Copyright &copy; Developed by ASDC, DGIS
    </div>
</footer>

<div class="modal fade bd-example-modal-xl" id="ProjunderprocessModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Project Under Process Details</h5>

                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <table id="HeldTablemodal" class="table table-striped table-bordered datatablefordownload">
                    <!-- Table header -->
                    <thead>
                        <tr>
                            <th class="text-nowrap text-center">S.No</th>
                            <th class="text-nowrap text-center">Project Name</th>
                            <th class="text-nowrap text-center">From</th>
                            <th class="text-nowrap text-center">Comment</th>
                            <th class="text-nowrap text-center">Fwd to</th>
                            <th class="text-nowrap text-center">Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Holdproj != null)
                        {


                            @foreach (var unitsa in Holdproj)
                            {
                                <tr>

                                    <td style="font-size:12px;">@unitsa.ProjId</td>
                                    <td style="font-size:12px;">@unitsa.ProjName</td>
                                    <td style="font-size:12px;">@unitsa.fwdby</td>
                                    <td style="font-size:12px;">@unitsa.Comment</td>
                                    <td style="font-size:12px;">@unitsa.helwith</td>
                                    <td style="font-size:12px;">@unitsa.StrDate</td>
                                </tr>
                            }
                        }

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="modal fade bd-example-modal-xl" id="ProjWhiteListedProjectModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">WhiteListed Project Details</h5>

                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">


                <table id="WhitelistedTableModal" class="table  table-striped table-bordered datatablefordownload" style="overflow: scroll;">
                    <!-- Table header -->

                    <thead>
                        @*  <tr>
                        <th colspan="3"></th>
                        <th colspan="3" class="text-center">Sponsor Contact Details</th>
                        <th colspan="6"></th>
                        </tr> *@
                        <tr>
                            <th class="text-nowrap text-center" style="font-size:12px;">S.No</th>
                            <th class="text-nowrap text-center" style="font-size:12px;">Project Cat</th>
                            <th class="text-nowrap text-center" style="font-size:12px;">Name of Sw Appl</th>
                            <th class="text-nowrap text-center" style="font-size:12px;">Appt</th>
                            <th class="text-nowrap text-center" style="font-size:12px;">Fmn</th>
                            <th class="text-nowrap text-center" style="font-size:12px;">Contact No</th>
                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Dt of ACG Clearane</th>
                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Cert No& Date</th>
                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Valid Upto</th>
                            <th class="text-nowrap text-center" style="width:9rem;font-size:12px;">Remarks</th>
                        </tr>
                    </thead>
                    <tbody>

                        @if (WhiteListed != null)
                        {
                            int count = 1;
                            int headerid = 0;
                            @foreach (var unitx in WhiteListed)
                            {
                                @*  if (headerid != @unitx.HeaderID)
                        {
                        <tr>

                        <td colspan="1" style="font-size:12px;">@unitx.Header</td>


                        </tr>

                        } *@
                                <tr>


                                    <td class="f-12">@count</td>
                                    <td class="f-12">@unitx.Header</td>
                                    <td class="f-12 text-nowrap">@unitx.ProjName</td>
                                    <td class="f-12 text-nowrap">@unitx.Appt</td>
                                    <td class="f-12 text-nowrap">@unitx.Fmn</td>
                                    <td class="f-12 text-nowrap">@unitx.ContactNo</td>
                                    <td class="f-12 text-nowrap">@unitx.Clearence</td>
                                    <td class="f-12 text-nowrap">@unitx.CertNo @unitx.date</td>
                                    <td class="f-12 text-nowrap">@unitx.ValidUpto</td>
                                    <td class="f-12">@unitx.Remarks</td>


                                </tr>

                                count = count + 1;
                                headerid = @unitx.HeaderID;
                            }
                        }

                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>

@* <a href="javaScript:;" class="back-to-top">
    <ion-icon name="arrow-up-outline"></ion-icon>
</a>

<div class="overlay nav-toggle-icon"></div>

 *@


<script>
    var flag = "@flag";
    var ButtonText = "@ButtonText";
    var username = "@username";
    var ip = '@ip';
</script>
<script src="~/developerjs/newproject.js"></script>
<script src="~/developerjs/commanfordatatable.js"></script>
