@using swas.DAL.Models
@model List<UnitDtl>

<!-- Button to open the modal for adding a new unit -->
<button type="button" id="AddButon" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#UnitAdd">
    Add New Unit
</button>

<div class="card radius-10 w-100">
    <div class="card-body">

        <table id="SoftwareType" class="table table-striped table-bordered">
            <!-- Table header -->
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Unit Name</th>
                    <th>Command</th>
                    @*<th>SUS No</th>*@
@*                    <th>Location</th>*@
                    <th>Unit/Fmn</th>
                    <th>Corps</th>
                    <th>Status</th>
                    <th>Updated By</th>
                    <th>Updated Date</th>
                    
                </tr>
            </thead>

            <tbody>
                @foreach (var unit in Model)
                {
                    <tr>
                        <td>@unit.unitid</td>
                        <td>@unit.UnitName</td>
                        <td>@unit.ComdAbbreviation</td>
                        @*<td>@unit.UnitSusNo</td>*@
                     @*   <td>@unit.Loc</td>*@
                        <td>@unit.Types</td>
                        <td>@unit.Corps</td>
                        <td>@(unit.Status ? "Active" : "Inactive")</td>
                        <td>@unit.UpdatedBy</td>
                        <td>@unit.UpdatedDate.ToString("dd-MM-yyyy")</td>
                      @*  <td>
                            <a href="#" class="btn btn-secondary btn-ecomm"><i class='bx bx-edit'></i></a>
                            <!-- Add edit action button/link -->
                        </td>*@
                    </tr>
                }
            </tbody>

        </table>

    </div>
</div>


<div class="modal fade" id="UnitAdd" tabindex="-1" aria-labelledby="ProjectAddLabel" aria-hidden="true">
    <div class="modal-dialog" style="max-width: 800px;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="UnitAddLabel">Add Unit</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                @Html.Partial("_unitdetls", new UnitDtl())


            </div>
         

            <script>
    @if (TempData.ContainsKey("SuccessMessage"))
    {
        <text>
            Swal.fire({
                title: 'Success',
                text: '@TempData["SuccessMessage"]',
                icon: 'success',
                confirmButtonText: 'OK'
            });
        </text>
    }


@if (TempData.ContainsKey("FailureMessage"))
{
    <text>


            Swal.fire({
                title: 'Duplicate Entry Detected....!',
                text: '@TempData["FailureMessage"]',
                icon: 'error',
                confirmButtonText: 'OK'
            });

    </text>
}

            </script>

            <script type="text/javascript">
                $(document).ready(function () {

                    $("#AddButon").click(function () {

                        $('#UnitAdd').modal('show');

                    });

                    $("#Editbtn").click(function () {

                        $('#ProjectEdit').modal('show');

                    });
                });
            </script>

